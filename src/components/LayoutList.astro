---
import "./LayoutList.scss";

import { getCollection } from "astro:content";
import Layout from './Layout.astro';

interface Props {
	title: string;
	description: string;
}

const games = await getCollection('games');
games.sort((a,b) => b.data.date.getTime() - a.data.date.getTime());
---

<Layout
	title={Astro.props.title}
	description={Astro.props.description}
	image={new URL('/assets/images/SweetHeart%20Squad%20-%20icon.png', Astro.site).toString()}
>
	<Fragment slot="head">
		<link rel="alternate" type="application/rss+xml" title="SweetHeart Squad" href={new URL("rss.xml", Astro.site)} />
	</Fragment>

	<slot />

	{/* PRE-FOOTER ICON */}
	<section class="grid dark-bg pre-footer"></section>

	{/* FOOTER WITH LINKS */}
	<footer class="footer">
		<nav class="nav">
			<ul>
				<li class="icon itchmark"><a title="Games on itch.io" href="https://SweetHeartSquad.itch.io">itch.io</a></li>
				<li class="icon blueskymark"><a title="Bluesky" href="https://bsky.app/profile/sweetheartsquad.bsky.social">bluesky</a></li>
				<li class="icon mastomark"><a title="Mastodon" href="https://mastodon.gamedev.place/@SweetHeartSquad" rel="me">mastodon</a></li>
				<li class="icon tumblrmark"><a title="tumblr" href="https://www.tumblr.com/sweetheartsquad">tumblr</a></li>
				<li class="icon gitmark"><a title="GitHub" href="https://github.com/SweetHeartSquad">github</a></li>
				<li class="icon emailmark"><a title="Email" href="mailto:SweetHeartSquad@gmail.com">email</a></li>
				<li class="icon rssmark"><a title="RSS" href="/rss.xml">RSS</a></li>
			</ul>
		</nav>
		<p>Copyright Â© {new Date(games[games.length-1].data.date.getTime()).getFullYear()}-{new Date().getFullYear()} SweetHeart Squad</p>
	</footer>
</Layout>
